name: Verify
on:
  workflow_call:
  workflow_dispatch:

env:
  NODE_OPTIONS: '--disable-warning=ExperimentalWarning --disable-warning=DeprecationWarning'

jobs:
  checks:
    name: Checks
    runs-on: ubuntu-latest

    steps:
      - name: Clone repository
        uses: actions/checkout@v6
        with:
          submodules: 'recursive'

      - name: Install dependencies
        uses: ./.github/actions/install-dependencies

      - name: Check code and types
        run: bun gen:types && bun check

      - name: Run Tempo Lints
        run: bun lint:tempo
